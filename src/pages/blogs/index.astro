---
import DefaultLayout from '@/layouts/default.astro'
import BlogListItem from '@/components/BlogListItem.astro'
import { SITE } from '@/site-config'
import { getCollection } from 'astro:content'

const blogs = (await getCollection('blog')).toSorted((a, b) => b.data.createAt.getTime() - a.data.createAt.getTime())
---

<DefaultLayout
  seo={{
    title: 'Blogs',
    description: SITE.description,
  }}
>
  {blogs.map(({ id, data }) => <BlogListItem data={data} slug={id} />)}
</DefaultLayout>
